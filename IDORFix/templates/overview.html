<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IDOR Demo Overview</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #173b6c; color: #ffffff; }
        .container { max-width: 800px; }
        code { color: #66afe9; }
        .section-box {
            background-color: #1c2e4a;
            border-left: 4px solid #66afe9;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 2rem;
        }
    </style>
</head>
<body>
    <div class="container py-5">
        <h1 class="text-center mb-4">IDOR Demo Overview</h1>
        
        <div class="section-box">
            <h3>What is IDOR?</h3>
            <p>
                <strong>Insecure Direct Object Reference (IDOR)</strong> is a type of access control vulnerability that allows an attacker to access or manipulate data by directly referencing internal objects, such as user IDs, without proper authorization checks. In this demo, IDOR enables unauthorized access to patient medical records by modifying a URL parameter.
            </p>
        </div>

        <div class="section-box">
            <h3>Learning Objectives</h3>
            <ul>
                <li>Understand the concept of IDOR and its impact on web applications.</li>
                <li>Interact with a simulated Patient Portal to observe IDOR in action.</li>
                <li>Learn how attackers exploit IDOR by manipulating URL parameters.</li>
                <li>Recognize the importance of proper access controls to prevent IDOR vulnerabilities.</li>
            </ul>
        </div>

        <div class="section-box">
            <h3>How the Vulnerability is Taught</h3>
            <p>
                This demo guides you through a hands-on exploration of IDOR in a Patient Portal:
            </p>
            <ol>
                <li><strong>Log In</strong>: Use the provided credentials (<code>Alice Parker</code> / <code>pasthe$123</code>) to access the portal as a patient.</li>
                <li><strong>View Profile</strong>: Observe your profile at <code>/profile/1</code>, which displays your username, email, and medical records.</li>
                <li><strong>Exploit IDOR</strong>: Change the URL to <code>/profile/2</code> or <code>/profile/3</code> to access other patients’ sensitive medical data without authorization.</li>
                <li><strong>Learn</strong>: The portal explains IDOR and highlights the vulnerability, reinforcing the need for secure access controls.</li>
            </ol>
            <p>
                By actively exploiting the vulnerability, you’ll see firsthand how IDOR can lead to unauthorized data access in a realistic healthcare context.
            </p>
        </div>

        <div class="section-box">
            <h3>High-Level Overview of the Application</h3>
            <p>
                The application uses CSS Bootstrap and HTML for a responsive, user-friendly interface and stores patient data in a JSON file, mimicking a real-world system with sensitive information.
                Their is the overview.html page, login.html page, profile.html page, and instructions.html page for the frontend. 
                The backend relies on code written in Python with Flask. Flask is used to help the routes to the different .html pages exist for the users.
                The application simulates a healthcare system where patients can view their medical records. Key features include:
            </p>
            <ul>
                <li><strong>Login System</strong>: Authenticates users (hardcoded to <code>Alice Parker</code>) to access the portal.</li>
                <li><strong>Profile Page</strong>: Displays patient data (username, email, medical records) based on a user ID in the URL (e.g., <code>/profile/1</code>).</li>
                <li><strong>Vulnerable Endpoint</strong>: This application version is the fixed version. Run IDOR instead to see the vulnerability.</li>
                <li><strong>Educational Content</strong>: Explains IDOR and guides users to exploit it, with instructions and an overview for learning.</li>
            </ul>
        </div>

        <div class="text-center mt-4">
            <a href="{{ url_for('login') }}" class="btn btn-primary" target="_blank" rel="noopener">Start Demo</a>
            <a href="{{ url_for('instructions') }}" class="btn btn-info" target="_blank" rel="noopener">View Instructions</a>
        </div>
    </div>
</body>
</html>